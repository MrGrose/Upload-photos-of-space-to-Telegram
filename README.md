# Космический Телеграм
Данный скрипт предназначен для публикации космических фотографий в Telegram канал.

## Описание
Скрипт предоставляет следующие:
- Скачивает фото запуска SpaceX.
- Скачивает EPIC-фото от NASA.
- Скачивает APOD-фото от NASA.
- Публикует указанную фотографию в тг канал. Если “какую” не указано, публикует случайную фотографию из скаченной директории.
- Публикует все фото из директории в бесконечном цикле.
- Вспомогательные скрипты.

## Основные компоненты
Скрипт **main**: Загружает изображения из различных источников (SpaceX, NASA APOD, NASA EPIC) и отправляет их в Telegram канал.

Скрипт **load_nasa_images**: Загружает изображения дня (APOD - Astronomy Picture of the Day) с API NASA.

Скрипт **load_epic_images**: Загружает изображения Земли из API NASA EPIC (Earth Polychromatic Imaging Camera).

Скрипт **fetch_spacex_images**: Загружает фотографии запусков SpaceX.

Скрипт **send_photos_tg**: Отправляет фотографии в Telegram канал с использованием Telegram Bot API.

## Вспомогательные скрипты
- arg_parser: запускает скрипт main через консоль.
- get_file_info_nasa: получение формата фото.
- file_info_for_tg: получение рандомно или с переданным аргументом фото для побуликации.
- delay_for_tg: конвектер переменной delay.


## Как установить
1. Создайте Telegram бота и получите токен бота. Инструкции можно найти [здесь](https://way23.ru/%D1%80%D0%B5%D0%B3%D0%B8%D1%81%D1%82%D1%80%D0%B0%D1%86%D0%B8%D1%8F-%D0%B1%D0%BE%D1%82%D0%B0-%D0%B2-telegram.html), 
2. Получите API ключ NASA для скачивания фото с сайта api.nasa.gov.
3. Создайте файл .env в корневой директории проекта со следующим содержимым:

    ```bash
    NASA_API_KEY=ваш_api_ключ_nasa
    TG_TOKEN=ваш_токен_telegram_бота
    ```

4. Установите зависимости:

    ```bash
    pip install -r requirements.txt
    ```
    
5. Добавьте вашего Telegram бота в канал для публикации. Инструкции [здесь](https://smmplanner.com/blog/otlozhennyj-posting-v-telegram/)


## Использование
1. В файле main.py установите необходимое значение delay (по умолчанию 4 часа) для публикации фото в Telegram канал.
2. Запустите программу через командную строку:

    2.1. Без дополнительных параметров (рекомендуется):
    ```bash
    python main.py
    ```

    2.2. С параметром -id для скачивания определенного запуска SpaceX:
    ```bash
    python main.py -id 5eb87d47ffd86e000604b38a
    ```

    2.3. С параметром -q для указания количества APOD-фото:
    ```bash
    python main.py -q 5
    ```

    2.4. С параметром -n для указания номера фото для отправки в Telegram канал:
    ```bash
    python main.py -n 7
    ```

## Цель проекта
Код написан в образовательных целях на онлайн-курсе для веб-разработчиков dvmn.org .
